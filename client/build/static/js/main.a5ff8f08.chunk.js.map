{"version":3,"sources":["context/auth-context.tsx","components/screens/Auth.tsx","components/Spinner/Spinner.tsx","components/Bookings/BookingList/BookingList.tsx","components/Bookings/BookingChart/BookingChart.tsx","components/Bookings/BookingsControls/BookingsControls.tsx","components/screens/Bookings.tsx","components/Modal/Modal.tsx","components/Backdrop/Backdrop.tsx","components/Events/EventList/EventItem/EventItem.tsx","components/Events/EventList/EventList.tsx","components/screens/Events.tsx","components/Navigation/MainNavber.js","App.tsx","index.tsx"],"names":["contextDefaultValues","token","userId","login","tokenExpiration","logout","createContext","withRouter","emailEL","useRef","passwordEL","React","useState","isLogin","setIsLogin","contextType","useContext","AuthContext","className","onSubmit","event","preventDefault","current","focus","requestBody","email","value","password","test","toLowerCase","query","variables","fetch","method","body","JSON","stringify","headers","then","res","json","resData","errors","data","Swal","fire","position","icon","title","showConfirmButton","timer","createUser","text","message","catch","err","console","log","Card","border","type","onClick","Body","ref","placeholder","name","id","required","htmlFor","Footer","spinner","bookingList","props","bookings","map","booking","Date","createdAt","toLocaleDateString","onDelete","bind","_id","bookingsChart","output","forEach","price","chartData","labels","datasets","push","label","fillColor","strokeColor","highlightFill","highlightStroke","backgroundColor","borderColor","borderWidth","width","height","options","maintainAspectRatio","display","fontSize","layout","padding","left","right","bottom","top","legend","fontColor","bookingsControl","activeOutputType","onChange","isLoading","setIsLoading","setBookings","outputType","setOutputType","useEffect","componentMounted","FetchBookings","Authorization","content","Fragment","bookingId","updatedBookings","filter","modal","children","canCancel","onCancel","canConfirm","onConfirm","confirmText","backdrop","eventItem","date","creatorId","onDetail","eventId","eventList","events","creator","authUserId","onViewDetail","setEvents","selectedEvent","setSelectedevent","creating","setCreating","titleEL","priceEL","dateEL","descriptionEL","FetchEvents","modalCancelHandler","description","trim","length","createEvent","min","rows","style","resize","selected","find","e","mainNavigation","Consumer","context","to","Routing","from","exact","path","component","AuthPage","EventsPage","BookingsPage","App","setToken","setUserId","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a5ff8f08.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nimport { userContextState } from './type'\n\nconst contextDefaultValues: userContextState = {\n  token: null,\n  userId: null,\n  login: (token: string, userId: string, tokenExpiration: string) => {},\n  logout: () => {}\n}\n\nexport default createContext<userContextState>(contextDefaultValues)\n","// eslint-disable-next-line\nimport React, { useContext, useRef, FormEvent } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport './Auth.css'\nimport Swal from 'sweetalert2'\nimport { Card } from 'react-bootstrap'\nimport AuthContext from '../../context/auth-context'\nimport '../../../node_modules//bootstrap/dist/css/bootstrap.min.css'\n\nconst AuthPage = () => {\n  const emailEL = useRef<HTMLInputElement>(null)\n  const passwordEL = useRef<HTMLInputElement>(null)\n  const [isLogin, setIsLogin] = React.useState<boolean>(true)\n\n  const contextType = useContext(AuthContext)\n\n  const switchToLogIn = () => {\n    setIsLogin(true)\n  }\n\n  const switchToSignUp = () => {\n    setIsLogin(false)\n  }\n\n  const onSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    if (emailEL && emailEL.current) {\n      emailEL.current.focus()\n    }\n    if (passwordEL && passwordEL.current) {\n      passwordEL.current.focus()\n    }\n\n    const email: string = emailEL.current?.value!\n    const password: string = passwordEL.current?.value!\n\n    //console.log(email, password)\n\n    if (\n      // eslint-disable-next-line\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        email.toLowerCase()\n      )\n    ) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'Invalid email or password!'\n      })\n      return\n    }\n\n    //console.log(email, password)\n    let requestBody: any\n    requestBody = {\n      query: `\n        query Login($email: String!, $password: String!){\n          login(email: $email, password: $password) {\n            userId\n            token\n            tokenExpiration\n          }\n        }\n         `,\n      variables: {\n        email: email,\n        password: password\n      }\n    }\n    if (!isLogin) {\n      requestBody = {\n        query: `\n          mutation CreateUser($email: String!, $password: String!) {\n            createUser(userInput: {email: $email, password: $password}) {\n              _id\n              email\n            }\n          }\n        `,\n        variables: {\n          email: email,\n          password: password\n        }\n      }\n    }\n\n    //console.log(requestBody)\n\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        if (resData.errors) {\n          //console.log(resData.errors[0].message)\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: resData.errors[0].message\n          })\n          return\n        } else {\n          //console.log(resData)\n          if (resData.data.login) {\n            contextType.login(\n              resData.data.login.token,\n              resData.data.login.userId,\n              resData.data.login.tokenExpiration\n            )\n\n            Swal.fire({\n              position: 'top-end',\n              icon: 'success',\n              title: resData.data.login.userId + ' Logged in Successfully',\n              showConfirmButton: false,\n              timer: 5000\n            })\n            return\n          } else if (resData.data.createUser) {\n            Swal.fire({\n              position: 'top-end',\n              icon: 'success',\n              title: 'Singed up Successfully',\n              showConfirmButton: false,\n              timer: 1200\n            })\n            setIsLogin(true)\n            return\n          }\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <div className=\"main-content\">\n      <form className=\"auth-form\" onSubmit={onSubmit}>\n        <h2>EventPlanner</h2>\n        <Card border=\"primary\" className=\"card\">\n          <div className=\"cardfooterparent\">\n            <div className={'cardfooter ' + (isLogin ? 'cardfooter2' : '')}>\n              <button type=\"button\" onClick={switchToLogIn}>\n                LogIn\n              </button>\n            </div>\n            <div className={'cardfooter ' + (isLogin ? '' : 'cardfooter2')}>\n              <button type=\"button\" onClick={switchToSignUp}>\n                SignUp\n              </button>\n            </div>\n          </div>\n\n          <Card.Body>\n            <div className=\"form__group field\">\n              <input\n                type=\"input\"\n                ref={emailEL}\n                className=\"form__field\"\n                placeholder=\"Email\"\n                name=\"email\"\n                id=\"email\"\n                required\n              />\n              <label htmlFor=\"email\" className=\"form__label\">\n                Email\n              </label>\n            </div>\n\n            <div className=\"form__group field\">\n              <input\n                type=\"password\"\n                ref={passwordEL}\n                className=\"form__field\"\n                placeholder=\"Password\"\n                name=\"password\"\n                id=\"password\"\n                required\n              />\n              <label htmlFor=\"password\" className=\"form__label\">\n                Password\n              </label>\n            </div>\n          </Card.Body>\n          <Card.Footer>\n            <div className=\"form-actions\">\n              <button type=\"submit\">Submit</button>\n            </div>\n          </Card.Footer>\n        </Card>\n      </form>\n    </div>\n  )\n}\n\nexport default withRouter(AuthPage)\n","import React from 'react'\n\nimport './Spinner.css'\n\nconst spinner = () => (\n  <div className=\"spinner\">\n    <div className=\"lds-dual-ring\" />\n  </div>\n)\n\nexport default spinner\n","import './BookingList.css'\n\nconst bookingList = (props: any) => {\n  const bookings = props.bookings.map(\n    (booking: { _id: any; event: any; createdAt: any }) => {\n      return (\n        <li key={booking._id} className=\"bookings__item\">\n          <div className=\"bookings__item-data\">\n            {booking.event.title} -{' '}\n            {new Date(booking.createdAt).toLocaleDateString()}\n          </div>\n          <div className=\"bookings__item-actions\">\n            <button onClick={props.onDelete.bind(this, booking._id)}>\n              Cancel\n            </button>\n          </div>\n        </li>\n      )\n    }\n  )\n  return (\n    <div className=\"bookings__list\">\n      <h2>Booked-Events!</h2>\n      <ul>{bookings}</ul>\n    </div>\n  )\n}\n\nexport default bookingList\n","import React from 'react'\nimport { Bar as BarChart } from 'react-chartjs-2'\n\nconst bookingsChart = (props: any) => {\n  const output: any = {}\n  output['Cheap'] = 0\n  output['Normal'] = 0\n  output['Expensive'] = 0\n\n  //console.log(output)\n  props.bookings.forEach((booking: { event: { price: number } }) => {\n    if (booking.event.price <= 100) {\n      output['Cheap'] = output['Cheap'] + 1\n    } else if (booking.event.price > 100 && booking.event.price <= 200) {\n      output['Normal'] = output['Normal'] + 1\n    } else {\n      output['Expensive'] = output['Expensive'] + 1\n    }\n  })\n  //console.log(output['Cheap'])\n  const chartData: any = { labels: [], datasets: [] }\n\n  chartData.labels.push('Cheap', 'Normal', 'Expensive')\n\n  chartData.datasets.push({\n    label: 'Events',\n    fillColor: 'rgba(220,220,220,0.5)',\n    strokeColor: 'rgba(220,220,220,0.8)',\n    highlightFill: 'rgba(220,220,220,0.75)',\n    highlightStroke: 'rgba(220,220,220,1)',\n\n    backgroundColor: [\n      'rgba(255, 99, 132, 0.2)',\n      'rgba(54, 162, 235, 0.2)',\n      'rgba(255, 206, 86, 0.2)'\n    ],\n    borderColor: [\n      'rgba(255, 99, 132, 1)',\n      'rgba(54, 162, 235, 1)',\n      'rgba(255, 206, 86, 1)'\n    ],\n    borderWidth: 2,\n    data: [output['Cheap'], output['Normal'], output['Expensive']]\n  })\n\n  const options = {\n    maintainAspectRatio: false,\n    title: {\n      display: true,\n      text: 'Frequencies of Different Bookings based on Price',\n      fontSize: 25\n    },\n    layout: {\n      padding: {\n        left: 175,\n        right: 175,\n        bottom: 100,\n        top: 0\n      }\n    },\n    legend: {\n      display: true,\n      position: 'right',\n      label: {\n        fontColor: '#000'\n      }\n    }\n  }\n\n  return (\n    <div className=\"chart\">\n      <BarChart\n        type=\"bar\"\n        data={chartData}\n        width={100}\n        height={500}\n        options={options}\n      />\n    </div>\n  )\n}\n\nexport default bookingsChart\n","import React from 'react'\nimport './BookingsControls.css'\nconst bookingsControl = (props: any) => {\n  return (\n    <div className=\"bookings-control\">\n      <button\n        className={props.activeOutputType === 'list' ? 'active' : ''}\n        onClick={props.onChange.bind(this, 'list')}\n      >\n        List\n      </button>\n      <button\n        className={props.activeOutputType === 'chart' ? 'active' : ''}\n        onClick={props.onChange.bind(this, 'chart')}\n      >\n        Chart\n      </button>\n    </div>\n  )\n}\n\nexport default bookingsControl\n","import React, { useEffect, useContext, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport AuthContext from '../../context/auth-context'\nimport Spinner from '../../components/Spinner/Spinner'\nimport BookingList from '../../components/Bookings/BookingList/BookingList'\nimport BookingsChart from '../../components/Bookings/BookingChart/BookingChart'\nimport BookingsControls from '../../components/Bookings/BookingsControls/BookingsControls'\nimport Swal from 'sweetalert2'\nconst BookingsPage = () => {\n  const contextType = useContext(AuthContext)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [bookings, setBookings] = React.useState<any[]>([])\n  const [outputType, setOutputType] = useState<string>('list')\n\n  useEffect(() => {\n    let componentMounted = true\n    FetchBookings(componentMounted)\n    return () => {\n      componentMounted = false\n    }\n    // eslint-disable-next-line\n  }, [])\n\n  const FetchBookings = (componentMounted: boolean) => {\n    if (componentMounted) {\n      setIsLoading(true)\n    }\n    const requestBody = {\n      query: `\n          query {\n            bookings{\n              _id\n              createdAt\n              event {\n                _id\n                title\n                date\n                price\n              }\n            }\n          }\n        `\n    }\n\n    //console.log(requestBody)\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + contextType.token\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        //console.log(resData)\n\n        const bookings = resData.data.bookings\n        //console.log(resData.data.bookings)\n        if (componentMounted) {\n          setBookings(bookings)\n          setIsLoading(false)\n        }\n      })\n      .catch((err) => {\n        //console.log(err)\n        if (componentMounted) {\n          setIsLoading(false)\n        }\n      })\n  }\n\n  const deleteBookingHandler = (bookingId: string) => {\n    //setIsLoading(true)\n\n    const requestBody = {\n      query: `\n          mutation CancelBooking ($id: ID!) {\n            cancelBooking(bookingId: $id){\n              _id\n              title\n            }\n          }\n        `,\n      variables: {\n        id: bookingId\n      }\n    }\n\n    //console.log(requestBody)\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + contextType.token\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        //console.log(resData)\n        if (resData.errors) {\n          //console.log(resData.errors[0].message)\n          //setIsLoading(false)\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: resData.errors[0].message\n          })\n          return\n        }\n        //console.log(bookings)\n        const updatedBookings = bookings.filter((booking) => {\n          return booking._id !== bookingId\n        })\n        //console.log(updatedBookings)\n        setBookings(updatedBookings)\n        Swal.fire('Cancelled!', 'Your Booking has been cancelled!', 'success')\n        //setIsLoading(false)\n      })\n      .catch((err) => {\n        //console.log(err)\n        //setIsLoading(false)\n      })\n  }\n\n  const changeOutputTypeHandler = (outputType: string) => {\n    if (outputType === 'list') {\n      setOutputType('list')\n    } else {\n      setOutputType('chart')\n    }\n  }\n  let content = <Spinner />\n  if (!isLoading) {\n    content = (\n      <React.Fragment>\n        <BookingsControls\n          activeOutputType={outputType}\n          onChange={changeOutputTypeHandler}\n        />\n        <div>\n          {outputType === 'list' ? (\n            <BookingList bookings={bookings} onDelete={deleteBookingHandler} />\n          ) : (\n            <BookingsChart bookings={bookings} />\n          )}\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  return (\n    <div className=\"main-content\">\n      {/* {isLoading ? (\n        <Spinner />\n      ) : (\n        <BookingList bookings={bookings} onDelete={deleteBookingHandler} />\n      )} */}\n      {content}\n    </div>\n  )\n}\n\nexport default withRouter(BookingsPage)\n","import './Modal.css'\n\nconst modal = (props: any) => (\n  <div className=\"modal\">\n    <header className=\"modal__header\">\n      <h1>{props.title}</h1>\n    </header>\n    <section className=\"modal__content\">{props.children}</section>\n    <section className=\"modal__actions\">\n      {props.canCancel && <button onClick={props.onCancel}>Cancel</button>}\n      {props.canConfirm && (\n        <button onClick={props.onConfirm}>{props.confirmText}</button>\n      )}\n    </section>\n  </div>\n)\n\nexport default modal\n","import './Backdrop.css'\n\nconst backdrop = () => <div className=\"backdrop\"></div>\n\nexport default backdrop\n","import './EventItem.css'\nconst eventItem = (props: any) => (\n  <li key={props.eventId} className=\"events__list-items\">\n    <div>\n      <h1>{props.title}</h1>\n      <h2>\n        ${props.price} - {new Date(props.date).toLocaleDateString()}\n      </h2>\n    </div>\n    <div>\n      {props.userId === props.creatorId ? (\n        <p>You are the owner of this event</p>\n      ) : (\n        <button onClick={props.onDetail.bind(this, props.eventId)}>\n          View Details\n        </button>\n      )}\n    </div>\n  </li>\n)\n\nexport default eventItem\n","import EventItem from './EventItem/EventItem'\nimport './EventList.css'\nconst eventList = (props: any) => {\n  const events = props.events.map(\n    (event: { _id: any; title: any; price: any; date: any; creator: any }) => {\n      return (\n        <EventItem\n          key={event._id}\n          eventId={event._id}\n          title={event.title}\n          price={event.price}\n          date={event.date}\n          creatorId={event.creator._id}\n          userId={props.authUserId}\n          onDetail={props.onViewDetail}\n        />\n      )\n    }\n  )\n  return <ul className=\"event__list\">{events}</ul>\n}\n\nexport default eventList\n","import { withRouter } from 'react-router-dom'\nimport './Events.css'\nimport Modal from '../Modal/Modal'\nimport Backdrop from '../Backdrop/Backdrop'\nimport React, { useContext, useEffect, useRef, useState } from 'react'\nimport Swal from 'sweetalert2'\nimport AuthContext from '../../context/auth-context'\nimport EventList from '../../components/Events/EventList/EventList'\nimport Spinner from '../../components/Spinner/Spinner'\n\nconst EventsPage = () => {\n  const contextType = useContext(AuthContext)\n  const [events, setEvents] = React.useState<any[]>([])\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [selectedEvent, setSelectedevent] = useState<any>(null)\n\n  const [creating, setCreating] = React.useState<boolean>(false)\n\n  const titleEL = useRef<HTMLInputElement>(null)\n  const priceEL = useRef<HTMLInputElement>(null)\n  const dateEL = useRef<HTMLInputElement>(null)\n  const descriptionEL = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    let componentMounted = true\n    FetchEvents(componentMounted)\n\n    return () => {\n      componentMounted = false\n    }\n  }, [])\n\n  const modalConfirmHandler = () => {\n    if (titleEL && titleEL.current) {\n      titleEL.current.focus()\n    }\n    if (priceEL && priceEL.current) {\n      priceEL.current.focus()\n    }\n    if (dateEL && dateEL.current) {\n      dateEL.current.focus()\n    }\n    if (descriptionEL && descriptionEL.current) {\n      descriptionEL.current.focus()\n    }\n\n    const title: string = titleEL.current?.value!\n    const price: number = +priceEL.current?.value!\n    const date: string = dateEL.current?.value!\n    const description: string = descriptionEL.current?.value!\n\n    if (\n      title?.trim().length === 0 ||\n      price <= 0 ||\n      date?.trim().length === 0 ||\n      description?.trim().length === 0\n    ) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'Need to fill all fields or Price is worthless'\n      })\n      return\n    }\n\n    setCreating(false)\n    //const event = { title, price, date, description }\n    //console.log(event)\n\n    const requestBody = {\n      query: `\n          mutation CreateEvent($title: String!, $price: Float!, $date: String!, $description: String!) {\n            createEvent(eventInput: {title: $title, price: $price, date: $date, description: $description}){\n              _id\n              title\n              description\n              date\n              price\n            }\n          }\n        `,\n      variables: {\n        title: title,\n        price: price,\n        date: date,\n        description: description\n      }\n    }\n\n    //console.log(requestBody)\n    const token = contextType.token\n\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        Authorization: 'Bearer ' + token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        //console.log(resData)\n        if (resData.errors) {\n          //console.log(resData.errors[0].message)\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: resData.errors[0].message\n          })\n          return\n        }\n\n        //console.log(resData.data.createEvent)\n        setEvents([\n          ...events,\n          {\n            _id: resData.data.createEvent._id,\n            title: resData.data.createEvent.title,\n            price: resData.data.createEvent.price,\n            description: resData.data.createEvent.description,\n            date: resData.data.createEvent.date,\n            creator: {\n              _id: contextType.userId\n            }\n          }\n        ])\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: 'Event Created Successfully',\n          showConfirmButton: false,\n          timer: 1200\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const FetchEvents = (componentMounted: boolean) => {\n    if (componentMounted) {\n      setIsLoading(true)\n    }\n    const requestBody = {\n      query: `\n          query {\n            events{\n              _id\n              title\n              description\n              date\n              price\n              creator {\n                _id\n              }\n            }\n          }\n        `\n    }\n\n    //console.log(requestBody)\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        //console.log(resData)\n\n        const events = resData.data.events\n        if (componentMounted) {\n          setEvents(events)\n          setIsLoading(false)\n        }\n      })\n      .catch((err) => {\n        //console.log(err)\n        if (componentMounted) {\n          setIsLoading(false)\n        }\n      })\n  }\n\n  const CreateEventModal = () => {\n    setCreating(true)\n  }\n\n  const modalCancelHandler = () => {\n    setCreating(false)\n    setSelectedevent(null)\n  }\n\n  const bookEventHandler = () => {\n    if (!contextType.token) {\n      setSelectedevent(null)\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'To Book an Event you must be logged in'\n      })\n      return\n    }\n\n    const requestBody = {\n      query: `\n          mutation BookEvent($id: ID!) {\n            bookEvent(eventId: $id){\n              _id\n              createdAt\n              updatedAt\n            }\n          }\n        `,\n      variables: {\n        id: selectedEvent._id\n      }\n    }\n\n    const token = contextType.token\n\n    fetch('/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        Authorization: 'Bearer ' + token,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => res.json())\n      .then((resData) => {\n        // console.log(resData)\n        if (resData.errors) {\n          //console.log(resData.errors[0].message)\n          Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: resData.errors[0].message\n          })\n          return\n        }\n        setSelectedevent(null)\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: 'Selected Event booked Successfully',\n          showConfirmButton: false,\n          timer: 1200\n        })\n      })\n\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const showDetailHandler = (eventId: string) => {\n    const selected = events.find((e) => e._id === eventId)\n    //console.log(selected)\n    setSelectedevent(selected)\n  }\n\n  return (\n    <div className=\"main-content\">\n      <React.Fragment>\n        {contextType.token && (\n          <div className=\"events-control\">\n            <p>Share your own Events!!</p>\n            <button className=\"btn\" onClick={CreateEventModal}>\n              Create Event\n            </button>\n          </div>\n        )}\n\n        {(creating || selectedEvent) && <Backdrop />}\n\n        {creating && (\n          <Modal\n            title=\"Add New Event\"\n            canCancel={true}\n            canConfirm={true}\n            onCancel={modalCancelHandler}\n            onConfirm={modalConfirmHandler}\n            confirmText=\"Confirm\"\n          >\n            <form>\n              <div className=\"form__group field\">\n                <input\n                  type=\"input\"\n                  className=\"form__field\"\n                  ref={titleEL}\n                  placeholder=\"Title\"\n                  name=\"title\"\n                  id=\"title\"\n                  required\n                />\n                <label htmlFor=\"title\" className=\"form__label\">\n                  Title\n                </label>\n              </div>\n              <div className=\"form__group field\">\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form__field\"\n                  ref={priceEL}\n                  placeholder=\"Price\"\n                  name=\"price\"\n                  id=\"price\"\n                  required\n                />\n                <label htmlFor=\"price\" className=\"form__label\">\n                  Price\n                </label>\n              </div>\n              <div className=\"form__group field\">\n                <input\n                  type=\"datetime-local\"\n                  className=\"form__field\"\n                  ref={dateEL}\n                  placeholder=\"Date\"\n                  name=\"date\"\n                  id=\"date\"\n                  required\n                />\n                <label htmlFor=\"date\" className=\"form__label\">\n                  Date\n                </label>\n              </div>\n              <div className=\"form-description\">\n                <label htmlFor=\"description\">Description</label>\n                <br></br>\n                <textarea\n                  id=\"description\"\n                  ref={descriptionEL}\n                  rows={4}\n                  style={{ width: '100%', resize: 'vertical' }}\n                ></textarea>\n              </div>\n            </form>\n          </Modal>\n        )}\n\n        {selectedEvent && (\n          <Modal\n            title={selectedEvent.title}\n            canCancel={true}\n            canConfirm={true}\n            onCancel={modalCancelHandler}\n            onConfirm={bookEventHandler}\n            confirmText=\"Book\"\n          >\n            <h1>{selectedEvent.title}</h1>\n            <h2>\n              ${selectedEvent.price} -{' '}\n              {new Date(selectedEvent.date).toLocaleDateString()}\n            </h2>\n            <p>{selectedEvent.description}</p>\n          </Modal>\n        )}\n\n        {isLoading ? (\n          <Spinner />\n        ) : (\n          <EventList\n            events={events}\n            authUserId={contextType.userId}\n            onViewDetail={showDetailHandler}\n          />\n        )}\n      </React.Fragment>\n    </div>\n  )\n}\n\nexport default withRouter(EventsPage)\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport AuthContext from '../../context/auth-context'\nimport './MainNavigation.css'\n\nconst mainNavigation = (props) => (\n  <AuthContext.Consumer>\n    {(context) => {\n      return (\n        <header className=\"main-navigation\">\n          <div className=\"main-navigation__logo\">\n            <h2>EventPlanner</h2>\n          </div>\n          <nav className=\"main-navigation__items\">\n            <ul>\n              {!context.token && (\n                <li>\n                  <NavLink to=\"/auth\">Authenticate</NavLink>\n                </li>\n              )}\n              <li>\n                <NavLink to=\"/events\">Events</NavLink>\n              </li>\n              {context.token && (\n                <React.Fragment>\n                  <li>\n                    <NavLink to=\"/bookings\">Bookings</NavLink>\n                  </li>\n                  <li>\n                    <button onClick={context.logout}>Logout</button>\n                  </li>\n                </React.Fragment>\n              )}\n            </ul>\n          </nav>\n        </header>\n      )\n    }}\n  </AuthContext.Consumer>\n)\n\nexport default mainNavigation\n","import { useState } from 'react'\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport './App.css'\nimport AuthPage from './components/screens/Auth'\nimport BookingsPage from './components/screens/Bookings'\nimport EventsPage from './components/screens/Events'\nimport MainNavigation from './components/Navigation/MainNavber'\nimport AuthContext from './context/auth-context'\n\nconst Routing = (props: { token: null | string }) => {\n  return (\n    <Switch>\n      {props.token && <Redirect from=\"/\" to=\"/events\" exact />}\n      {props.token && <Redirect from=\"/auth\" to=\"/events\" exact />}\n\n      {!props.token && <Route exact path=\"/auth\" component={AuthPage} />}\n\n      <Route exact path=\"/events\" component={EventsPage} />\n      {props.token && <Route exact path=\"/bookings\" component={BookingsPage} />}\n\n      {!props.token && <Redirect to=\"/auth\" exact />}\n    </Switch>\n  )\n}\n\nfunction App() {\n  //const history = useHistory()\n  const [token, setToken] = useState<null | string>(null)\n  const [userId, setUserId] = useState<null | string>(null)\n\n  const login = (token: string, userId: string, tokenExpiration: string) => {\n    setToken(token)\n    setUserId(userId)\n  }\n\n  const logout = () => {\n    setToken(null)\n    setUserId(null)\n  }\n\n  return (\n    <BrowserRouter>\n      <AuthContext.Provider\n        value={{\n          token: token,\n          userId: userId,\n          login: login,\n          logout: logout\n        }}\n      >\n        <MainNavigation />\n        <Routing token={token} />\n      </AuthContext.Provider>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}